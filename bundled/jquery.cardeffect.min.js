function CubicBezier(a,b,c,d){if(!(a>=0&&1>=a))throw new RangeError("'p1x' must be a number between 0 and 1. Got "+a+"instead.");if(!(b>=0&&1>=b))throw new RangeError("'p1y' must be a number between 0 and 1. Got "+b+"instead.");if(!(c>=0&&1>=c))throw new RangeError("'p2x' must be a number between 0 and 1. Got "+c+"instead.");if(!(d>=0&&1>=d))throw new RangeError("'p2y' must be a number between 0 and 1. Got "+d+"instead.");this._p1={x:a,y:b},this._p2={x:c,y:d}}!function(a,b){"object"==typeof exports?module.exports=b(a,a.document):"function"==typeof define&&define.amd?define(function(){return b(a,a.document)}):a.Sketch=b(a,a.document)}(this,function(a,b){"use strict";function c(a){return"[object Array]"==Object.prototype.toString.call(a)}function d(a){return"function"==typeof a}function e(a){return"number"==typeof a}function f(a){return"string"==typeof a}function g(a){return x[a]||String.fromCharCode(a)}function h(a,b,c){for(var d in b)!c&&d in a||(a[d]=b[d]);return a}function i(a,b){return function(){a.apply(b,arguments)}}function j(a){var b={};for(var c in a)b[c]=d(a[c])?i(a[c],a):a[c];return b}function k(a){function b(b){d(b)&&b.apply(a,[].splice.call(arguments,1))}function c(a){for(I=0;I<ab.length;I++)L=ab[I],f(L)?D[(a?"add":"remove")+"EventListener"].call(D,L,C,!1):d(L)?C=L:D=L}function e(){G(B),B=F(e),X||(b(a.setup),X=d(a.setup)),W||(b(a.resize),W=d(a.resize)),a.running&&!U&&(a.dt=(K=+new Date)-a.now,a.millis+=a.dt,a.now=K,b(a.update),a.autoclear&&$&&a.clear(),b(a.draw)),U=++U%a.interval}function i(){D=Z?a.style:a.canvas,J=Z?"px":"",S=a.width,T=a.height,a.fullscreen&&(T=a.height=u.innerHeight,S=a.width=u.innerWidth),a.retina&&$&&Y&&(D.style.height=T+"px",D.style.width=S+"px",S*=Y,T*=Y,a.scale(Y,Y)),D.height!==T&&(D.height=T+J),D.width!==S&&(D.width=S+J),X&&b(a.resize)}function k(a,b){return H=b.getBoundingClientRect(),a.x=a.pageX-H.left-(u.scrollX||u.pageXOffset),a.y=a.pageY-H.top-(u.scrollY||u.pageYOffset),a}function l(b,c){return k(b,a.element),c=c||{},c.ox=c.x||b.x,c.oy=c.y||b.y,c.x=b.x,c.y=b.y,c.dx=c.x-c.ox,c.dy=c.y-c.oy,c}function m(a){if(a.preventDefault(),M=j(a),M.originalEvent=a,M.touches)for(V.length=M.touches.length,I=0;I<M.touches.length;I++)V[I]=l(M.touches[I],V[I]);else V.length=0,V[0]=l(M,_);return h(_,V[0],!0),M}function n(c){for(c=m(c),Q=(R=ab.indexOf(N=c.type))-1,a.dragging=/down|start/.test(N)?!0:/up|end/.test(N)?!1:a.dragging;Q;)f(ab[Q])?b(a[ab[Q--]],c):f(ab[R])?b(a[ab[R++]],c):Q=0}function o(c){O=c.keyCode,P="keyup"==c.type,bb[O]=bb[g(O)]=!P,b(a[c.type],c)}function p(c){a.autopause&&("blur"==c.type?w:r)(),b(a[c.type],c)}function r(){a.now=+new Date,a.running=!0}function w(){a.running=!1}function y(){(a.running?w:r)()}function z(){$&&a.clearRect(0,0,a.width,a.height)}function A(){E=a.element.parentNode,I=v.indexOf(a),E&&E.removeChild(a.element),~I&&v.splice(I,1),c(!1),w()}var B,C,D,E,H,I,J,K,L,M,N,O,P,Q,R,S,T,U=0,V=[],W=!1,X=!1,Y=u.devicePixelRatio,Z=a.type==s,$=a.type==q,_={x:0,y:0,ox:0,oy:0,dx:0,dy:0},ab=[a.element,n,"mousedown","touchstart",n,"mousemove","touchmove",n,"mouseup","touchend",n,"click",n,"mouseout",n,"mouseover",t,o,"keydown","keyup",u,p,"focus","blur",i,"resize"],bb={};for(O in x)bb[x[O]]=!1;return h(a,{touches:V,mouse:_,keys:bb,dragging:!1,running:!1,millis:0,now:0/0,dt:0/0,destroy:A,toggle:y,clear:z,start:r,stop:w}),v.push(a),a.autostart&&r(),c(!0),i(),e(),a}for(var l,m,n="E LN10 LN2 LOG2E LOG10E PI SQRT1_2 SQRT2 abs acos asin atan ceil cos exp floor log round sin sqrt tan atan2 pow max min".split(" "),o="__hasSketch",p=Math,q="canvas",r="webgl",s="dom",t=b,u=a,v=[],w={fullscreen:!0,autostart:!0,autoclear:!0,autopause:!0,container:t.body,interval:1,globals:!0,retina:!1,type:q},x={8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",27:"ESCAPE",32:"SPACE",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN"},y={CANVAS:q,WEB_GL:r,WEBGL:r,DOM:s,instances:v,install:function(a){if(!a[o]){for(var b=0;b<n.length;b++)a[n[b]]=p[n[b]];h(a,{TWO_PI:2*p.PI,HALF_PI:p.PI/2,QUATER_PI:p.PI/4,random:function(a,b){return c(a)?a[~~(p.random()*a.length)]:(e(b)||(b=a||1,a=0),a+p.random()*(b-a))},lerp:function(a,b,c){return a+c*(b-a)},map:function(a,b,c,d,e){return(a-b)/(c-b)*(e-d)+d}}),a[o]=!0}},create:function(a){return a=h(a||{},w),a.globals&&y.install(self),l=a.element=a.element||t.createElement(a.type===s?"div":"canvas"),m=a.context=a.context||function(){switch(a.type){case q:return l.getContext("2d",a);case r:return l.getContext("webgl",a)||l.getContext("experimental-webgl",a);case s:return l.canvas=l}}(),(a.container||t.body).appendChild(l),y.augment(m,a)},augment:function(a,b){return b=h(b||{},w),b.element=a.canvas||a,b.element.className+=" sketch",h(a,b,!0),k(a)}},z=["ms","moz","webkit","o"],A=self,B=0,C="AnimationFrame",D="request"+C,E="cancel"+C,F=A[D],G=A[E],H=0;H<z.length&&!F;H++)F=A[z[H]+"Request"+C],G=A[z[H]+"Cancel"+C];return A[D]=F=F||function(a){var b=+new Date,c=p.max(0,16-(b-B)),d=setTimeout(function(){a(b+c)},c);return B=b+c,d},A[E]=G=G||function(a){clearTimeout(a)},y}),CubicBezier.prototype._getCoordinateForT=function(a,b,c){var d=3*b,e=3*(c-b)-d,f=1-d-e;return((f*a+e)*a+d)*a},CubicBezier.prototype._getCoordinateDerivateForT=function(a,b,c){var d=3*b,e=3*(c-b)-d,f=1-d-e;return(3*f*a+2*e)*a+d},CubicBezier.prototype._getTForCoordinate=function(a,b,c,d){if(!isFinite(d)||0>=d)throw new RangeError("'epsilon' must be a number greater than 0.");for(var e,f,g=a,h=0;8>h;h++){if(e=this._getCoordinateForT(g,b,c)-a,Math.abs(e)<d)return g;if(f=this._getCoordinateDerivateForT(g,b,c),Math.abs(f)<1e-6)break;g-=e/f}g=a;var e,i=0,j=1;if(i>g)return i;if(g>j)return j;for(;j>i;){if(e=this._getCoordinateForT(g,b,c),Math.abs(e-a)<d)return g;a>e?i=g:j=g,g=.5*(j-i)+i}return g},CubicBezier.prototype.getPointForT=function(a){if(0==a||1==a)return{x:a,y:a};if(!(a>0&&1>a))throw new RangeError("'t' must be a number between 0 and 1Got "+a+" instead.");return{x:this._getCoordinateForT(a,this._p1.x,this._p2.x),y:this._getCoordinateForT(a,this._p1.y,this._p2.y)}},CubicBezier.prototype.getTforX=function(a,b){return this._getTForCoordinate(a,this._p1.x,this._p2.x,b)},CubicBezier.prototype.getTforY=function(a,b){return this._getTForCoordinate(a,this._p1.y,this._p2.y,b)},CubicBezier.prototype._getAuxPoints=function(a){if(!(a>0&&1>a))throw new RangeError("'t' must be greater than 0 and lower than 1");var b={x:a*this._p1.x,y:a*this._p1.y},c={x:this._p1.x+a*(this._p2.x-this._p1.x),y:this._p1.y+a*(this._p2.y-this._p1.y)},d={x:this._p2.x+a*(1-this._p2.x),y:this._p2.y+a*(1-this._p2.y)},e={x:b.x+a*(c.x-b.x),y:b.y+a*(c.y-b.y)},f={x:c.x+a*(d.x-c.x),y:c.y+a*(d.y-c.y)},g={x:e.x+a*(f.x-e.x),y:e.y+a*(f.y-e.y)};return{i0:b,i1:c,i2:d,j0:e,j1:f,k:g}},CubicBezier.prototype.divideAtT=function(a){if(0>a||a>1)throw new RangeError("'t' must be a number between 0 and 1. Got "+a+" instead.");if(0===a||1===a){var b=[];return b[a]=CubicBezier.linear(),b[1-a]=this.clone(),b}var c={},d={},e=this._getAuxPoints(a),f=e.i0,g=(e.i1,e.i2),h=e.j0,i=e.j1,j=e.k,k=j.x,l=j.y;return c.p1={x:f.x/k,y:f.y/l},c.p2={x:h.x/k,y:h.y/l},d.p1={x:(i.x-k)/(1-k),y:(i.y-l)/(1-l)},d.p2={x:(g.x-k)/(1-k),y:(g.y-l)/(1-l)},[new CubicBezier(c.p1.x,c.p1.y,c.p2.x,c.p2.y),new CubicBezier(d.p1.x,d.p1.y,d.p2.x,d.p2.y)]},CubicBezier.prototype.divideAtX=function(a,b){if(0>a||a>1)throw new RangeError("'x' must be a number between 0 and 1. Got "+a+" instead.");var c=this.getTforX(a,b);return this.divideAtT(c)},CubicBezier.prototype.divideAtY=function(a,b){if(0>a||a>1)throw new RangeError("'y' must be a number between 0 and 1. Got "+a+" instead.");var c=this.getTforY(a,b);return this.divideAtT(c)},CubicBezier.prototype.clone=function(){return new CubicBezier(this._p1.x,this._p1.y,this._p2.x,this._p2.y)},CubicBezier.prototype.toString=function(){return"cubic-bezier("+[this._p1.x,this._p1.y,this._p2.x,this._p2.y].join(", ")+")"},CubicBezier.linear=function(){return new CubicBezier},CubicBezier.ease=function(){return new CubicBezier(.25,.1,.25,1)},CubicBezier.linear=function(){return new CubicBezier(0,0,1,1)},CubicBezier.easeIn=function(){return new CubicBezier(.42,0,1,1)},CubicBezier.easeOut=function(){return new CubicBezier(0,0,.58,1)},CubicBezier.easeInOut=function(){return new CubicBezier(.42,0,.58,1)},function(a,b,c){function d(b,d){a.extend(this.opts,b),this.$el=d,"auto"==this.$el.css("z-index")&&this.$el.css("z-index","1"),this.$content=this.$el.find(this.opts.content),"auto"==this.$content.css("z-index")&&this.$content.css("z-index","1"),this.$wrapper=a("<div></div>").addClass(this.opts.wrapperClass).css(this.opts.wrapperStyles).insertAfter(this.$content),this.container=this.$wrapper[0],this.autostart=!1,this.fullscreen=!1,this.width=this.$wrapper.width(),this.height=this.$wrapper.height(),this.started=!1,this.getDimensions(),this.callback=this.opts.callback.bind(this.$el),this.timing=new c.ease}function e(a){this.card=a,this.x=a.width/2,this.y=a.height/2,this.life=this.card.opts.particleSpeed,this.reset()}return b.install(window),d.prototype={opts:{color:"#FC8D25",content:".content",wrapperClass:"animation-layer",wrapperStyles:{position:"absolute",top:"-100px",bottom:"-100px",left:"-100px",right:"-100px","z-index":"0"},particleSpeed:1200,particleCount:100,callback:function(){}},particles:[],getDimensions:function(){this.x=this.$content.width()/2,this.y=this.$content.height()/2,this.h=sqrt(this.x*this.x+this.y*this.y),this.cornerAngle=180*asin(this.x/this.h)/PI},addParticles:function(a){a=a||this.opts.particleCount;for(var b=0;a>b;b++)this.particles.push(new e(this))},update:function(){for(var a=0,b=this.particles.length-1;b>=0;b--){var c=this.particles[b];c.dead||(c.delay>0?c.delay-=this.dt:(c.delay=0,c.move()),a++)}this.started&&0==a&&(this.stop(),this.started=!1,this.callback())},draw:function(){for(var a=this.particles.length-1;a>=0;a--)this.particles[a].dead||this.particles[a].draw(this)},reset:function(){if(this.particles.length>0)for(var a=this.particles.length-1;a>=0;a--)this.particles[a].reset();else this.addParticles(this.opts.particleCount)}},e.prototype={reset:function(){if(this.radius=random(15,this.card.y/2),this.opacity=random(.25,.75),this.scale=random(-.5,.125),this.theta=random(90),this.theta>this.card.cornerAngle){var a=90-this.theta;this.distance=this.card.x/cos(a*PI/180)}else this.distance=this.card.y/cos(this.theta*PI/180);this.distance-=2*this.radius+10,this.theta=(this.theta+180*round(random()))*(1-2*round(random())),this.goal=random(this.radius,100),this.delay=random(1e3),this.traveled=0,this.direction=random(-45,45),this.death=0,this.dead=!1},move:function(){this.traveled=this.card.timing.getPointForT(this.death/this.life).y*this.goal,this.death+=this.card.dt,this.death>=this.life&&(this.dead=!0)},draw:function(a){var b=this.death/this.life;a.globalAlpha=b>.5?this.opacity*(1-(b-.5)/.5):this.opacity,a.save(),a.translate(this.x,this.y),a.rotate(this.theta*PI/180),a.translate(0,this.distance),a.rotate(this.direction*PI/180),a.translate(0,this.traveled),a.beginPath(),a.arc(0,0,abs(this.radius*(1+this.scale*b)),0,TWO_PI),a.fillStyle=this.card.opts.color,a.fill(),a.restore()}},a.fn.initCardAnim=function(a){var c=b.create(new d(a,this));return this.data("CardAnim",c),this},a.fn.triggerCardAnim=function(){var a=this.data("CardAnim");return a.started||(a.reset(),a.started=!0,a.start()),this},a}(jQuery,Sketch,CubicBezier);